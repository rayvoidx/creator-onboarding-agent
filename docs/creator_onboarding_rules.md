# Creator Onboarding 스코어링 규칙 정의

## 개요
크리에이터 온보딩 평가 시스템은 다양한 메트릭을 기반으로 점수를 산출하고, 등급(Grade)과 결정(Decision)을 도출합니다. 본 문서는 각 요소가 최종 결과에 어떻게 영향을 미치는지 상세히 정의합니다.

---

## 1. 입력 메트릭

| 메트릭 | 설명 | 데이터 타입 | 예시 |
|--------|------|-------------|------|
| `followers` | 총 팔로워 수 | integer | 250,000 |
| `avg_likes` | 최근 게시물 평균 좋아요 수 | integer | 8,000 |
| `avg_comments` | 최근 게시물 평균 댓글 수 | integer | 300 |
| `posts_30d` | 최근 30일 게시물 수 | integer | 20 |
| `reports_90d` | 최근 90일 신고/리포트 수 | integer | 0 |
| `brand_fit` | 브랜드 적합도 (0.0 ~ 1.0) | float | 0.7 |

---

## 2. 파생 지표 (Derived Signals)

### 2.1 Engagement Rate (참여율)
```
engagement_rate = (avg_likes + 2 × avg_comments) / followers
```
- 댓글에 2배 가중치 부여 (댓글이 더 깊은 참여를 의미)
- 팔로워가 0인 경우 1로 대체하여 계산

### 2.2 Frequency (활동 빈도)
```
frequency = posts_30d / 30
```
- 하루 평균 게시물 수
- 최대 1.0 (하루 1개 이상)으로 클리핑

---

## 3. 점수 산출 규칙 (0 ~ 100점)

### 3.1 기본 점수 구성요소

| 구성요소 | 산출 공식 | 최대 기여도 | 설명 |
|----------|-----------|-------------|------|
| **팔로워 점수** | `min(followers / 1,000,000, 0.4)` | 40점 | 100만 팔로워 이상 → 40점 만점 |
| **참여율 점수** | `min(engagement_rate × 10, 0.3)` | 30점 | 참여율 3% 이상 → 30점 만점 |
| **활동 빈도 점수** | `min(frequency, 0.15)` | 15점 | 하루 1회 이상 → 15점 만점 |
| **브랜드 적합도 점수** | `min(brand_fit × 0.15, 0.15)` | 15점 | brand_fit 1.0 → 15점 만점 |

**기본 점수 합계**: 최대 100점 (내부적으로 0.0 ~ 1.0 → 0 ~ 100 변환)

### 3.2 구성요소별 상세 해석

#### 팔로워 점수 (최대 40점)
| 팔로워 수 | 점수 | 해석 |
|-----------|------|------|
| < 100,000 | < 4점 | 소규모 마이크로 인플루언서 |
| 100,000 ~ 500,000 | 4 ~ 20점 | 중규모 인플루언서 |
| 500,000 ~ 1,000,000 | 20 ~ 40점 | 대규모 인플루언서 |
| ≥ 1,000,000 | 40점 | 메가 인플루언서 |

#### 참여율 점수 (최대 30점)
| 참여율 | 점수 | 해석 |
|--------|------|------|
| < 0.2% | < 2점 | 매우 낮음 (리스크 태그 대상) |
| 0.2% ~ 1% | 2 ~ 10점 | 낮음 |
| 1% ~ 3% | 10 ~ 30점 | 양호 |
| ≥ 3% | 30점 | 매우 높음 |

#### 활동 빈도 점수 (최대 15점)
| 30일 게시물 수 | 일평균 | 점수 | 해석 |
|----------------|--------|------|------|
| < 4 | < 0.13 | < 2점 | 매우 낮음 (리스크 태그 대상) |
| 4 ~ 15 | 0.13 ~ 0.5 | 2 ~ 7.5점 | 보통 |
| 15 ~ 30 | 0.5 ~ 1.0 | 7.5 ~ 15점 | 활발 |
| ≥ 30 | ≥ 1.0 | 15점 | 매우 활발 |

#### 브랜드 적합도 점수 (최대 15점)
| brand_fit | 점수 | 해석 |
|-----------|------|------|
| 0.0 ~ 0.3 | 0 ~ 4.5점 | 낮은 적합도 |
| 0.3 ~ 0.7 | 4.5 ~ 10.5점 | 중간 적합도 |
| 0.7 ~ 1.0 | 10.5 ~ 15점 | 높은 적합도 |

---

## 4. 리스크 패널티 규칙

리스크 조건에 해당하면 기본 점수에서 차감됩니다.

| 리스크 조건 | 패널티 | 리스크 태그 | 설명 |
|-------------|--------|-------------|------|
| `reports_90d ≥ 3` | **-15점** | `high_reports` | 최근 90일 내 3회 이상 신고 |
| `engagement_rate < 0.002` (0.2%) | **-10점** | `low_engagement` | 참여율이 매우 낮음 |
| `posts_30d < 4` | **-5점** | `low_activity` | 활동이 거의 없음 |

**패널티 적용 후 점수**: 0 ~ 100 범위로 클리핑

---

## 5. 등급(Grade) 결정 규칙

최종 점수에 따라 등급이 결정됩니다.

| 점수 범위 | 등급 | 설명 |
|-----------|------|------|
| **85 ~ 100** | **S** | 최우수 크리에이터 |
| **70 ~ 84** | **A** | 우수 크리에이터 |
| **55 ~ 69** | **B** | 양호 크리에이터 |
| **0 ~ 54** | **C** | 기준 미달 |

---

## 6. 결정(Decision) 규칙

등급과 리스크 태그를 종합하여 최종 결정을 내립니다.

| 조건 | 결정 | 설명 |
|------|------|------|
| `high_reports` in risks **OR** score < 50 | **reject** | 신고 이력 또는 점수 매우 낮음 |
| `low_activity` in risks **AND** score < 70 | **hold** | 활동 저조하나 잠재력 있음 |
| 그 외 | **accept** | 온보딩 승인 |

### 결정 우선순위
1. `reject` 조건 먼저 체크
2. `hold` 조건 체크
3. 기본값 `accept`

---

## 7. 추가 태그(Tags) 부여 규칙

결정과 별개로 크리에이터에게 추가 태그를 부여합니다.

| 조건 | 태그 | 설명 |
|------|------|------|
| grade in (S, A) | `top_candidate` | 최우수 후보로 우선 관리 대상 |
| `low_engagement` in risks | `needs_awareness_campaign` | 인지도 향상 캠페인 필요 |
| `low_activity` in risks | `needs_activation` | 활성화 유도 필요 |

---

## 8. 점수 산출 예시

### 예시 1: 우수 크리에이터
**입력**:
- followers: 500,000
- avg_likes: 15,000
- avg_comments: 500
- posts_30d: 25
- reports_90d: 0
- brand_fit: 0.8

**계산**:
- engagement_rate = (15,000 + 1,000) / 500,000 = 3.2%
- frequency = 25 / 30 = 0.83

**점수 구성**:
- 팔로워: min(500,000/1,000,000, 0.4) × 100 = 20점
- 참여율: min(0.032 × 10, 0.3) × 100 = 30점
- 활동: min(0.83, 0.15) × 100 = 15점
- 브랜드: min(0.8 × 0.15, 0.15) × 100 = 12점

**기본 점수**: 77점
**패널티**: 없음
**최종 점수**: 77점
**등급**: A
**결정**: accept
**태그**: `top_candidate`

---

### 예시 2: 리스크 있는 크리에이터
**입력**:
- followers: 100,000
- avg_likes: 100
- avg_comments: 10
- posts_30d: 2
- reports_90d: 4
- brand_fit: 0.3

**계산**:
- engagement_rate = (100 + 20) / 100,000 = 0.12%
- frequency = 2 / 30 = 0.067

**점수 구성**:
- 팔로워: 4점
- 참여율: 1.2점
- 활동: 1점
- 브랜드: 4.5점

**기본 점수**: 10.7점
**패널티**: -15점(high_reports) -10점(low_engagement) -5점(low_activity) = -30점
**최종 점수**: 0점 (클리핑)
**등급**: C
**결정**: reject
**리스크**: `high_reports`, `low_engagement`, `low_activity`

---

## 9. 규칙 조정 권장사항

### 현재 로직의 한계
1. **팔로워 비중 과다**: 40%로 팔로워 수에 과도하게 의존
2. **산업별 차이 미반영**: 플랫폼/카테고리별 평균 참여율 차이 없음
3. **이력 데이터 미활용**: 성장 추세, 과거 캠페인 성과 등 미반영

### 개선 방향
1. **동적 임계값**: 플랫폼/카테고리별 벤치마크 적용
2. **성장률 반영**: 최근 3개월 팔로워 증가율
3. **콘텐츠 품질**: LLM 기반 콘텐츠 분석 점수 추가
4. **히스토리컬 성과**: 이전 캠페인 ROI 반영

---

## 10. 변수 참조표

| 변수명 | 타입 | 설명 | 사용처 |
|--------|------|------|--------|
| `{platform}` | string | 플랫폼 (tiktok, instagram 등) | 리포트 |
| `{handle}` | string | 크리에이터 핸들/ID | 리포트 |
| `{followers}` | int | 팔로워 수 | 점수 계산 |
| `{avg_likes}` | int | 평균 좋아요 | ER 계산 |
| `{avg_comments}` | int | 평균 댓글 | ER 계산 |
| `{posts_30d}` | int | 30일 게시물 | 활동 빈도 |
| `{reports_90d}` | int | 90일 신고 수 | 리스크 판단 |
| `{brand_fit}` | float | 브랜드 적합도 | 점수 계산 |
| `{engagement_rate}` | float | 참여율 (%) | 리포트 |
| `{score}` | float | 최종 점수 (0-100) | 등급/결정 |
| `{grade}` | string | 등급 (S/A/B/C) | 리포트 |
| `{decision}` | string | 결정 (accept/hold/reject) | 리포트 |
| `{risks}` | list | 리스크 태그 목록 | 리포트 |
| `{tags}` | list | 추가 태그 목록 | 리포트 |
| `{score_breakdown}` | dict | 점수 구성 상세 | 리포트 |
